{% macro render(common, workspaces) %}
  <div class="ws-initial-view">
    <div class="ws-initial-rotating-background-image">
      {%- for workspaceId in common.orderedWorkspaceIds %}
        {% if loop.index == 1 %}
            {{initialViewBGFPO(workspaces[workspaceId].background, common.sizeClasses)}}
        {% endif %}
        {{initialViewBG(workspaces[workspaceId].background, common.sizeClasses, loop.index)}}
       {% endfor %}
    </div>
    <div class="ws-initial-content">
      <div class="ws-initial-text">{{ common.initialViewText }}</div>
      <a class="ws-initial-cta" href="#/homeSpace">{{ common.initialViewCtaText }}</a>
    </div>
  </div>
{% endmacro %}

{% macro initialViewBGFPO(src, sizeClasses) %}
  {% for size, prefix in sizeClasses %}
    <div class="ws-rotating-background-image ws-rotating-background-image-fpo {{ size }}">
      {% imagesync "room-backgrounds/"+prefix+src, "" %}
    </div>
  {% endfor %}
{% endmacro %}

{% macro initialViewBG(src, sizeClasses, index) %}
  {% for size, prefix in sizeClasses %}
    <div class="ws-rotating-background-image ws-rotating-background-image-{{ index }} {{ size }}">
      {% imagesync "room-backgrounds/"+prefix+src, "" %}
    </div>
  {% endfor %}
{% endmacro %}
