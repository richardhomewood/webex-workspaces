{% import "./device-modal/index.njk" as deviceModal %}
{% import "./room-info-modal/index.njk" as infoModal %}

{% macro commonUi(common, workspaces) %}
  <div class="ws-common-ui">
    <a href="#">{% icon "site-logo" %}</a>

    <div class="ws-workspace-nav awaits-styling">
      <ul>
        {%- for workspace in workspaces %}
          <li><a href="#{{ workspace.route }}">{{ workspace.name }}</a></li>
        {%- endfor %}
      </ul>
    </div>

    <button class="ws-about-cta awaits-styling">{{ common.aboutWorkspaceCtaText }}</button>
  </div>
{% endmacro %}

{% macro initialView(common) %}
  <div class="ws-initial-view">
     <div class="ws-initial-rotating-background-image">

        <div class="ws-rotating-background-image ws-rotating-background-image-1 ws-XL">{% imagesync "01_background.png", "" %}</div>
        <div class="ws-rotating-background-image ws-rotating-background-image-2 ws-XL">{% imagesync "02_background.png", "" %}</div>
        <div class="ws-rotating-background-image ws-rotating-background-image-3 ws-XL">{% imagesync "03_background.png", "" %}</div>

        <div class="ws-rotating-background-image ws-rotating-background-image-1 ws-L">{% imagesync "L_01_background.png", "" %}</div>
        <div class="ws-rotating-background-image ws-rotating-background-image-2 ws-L">{% imagesync "L_02_background.png", "" %}</div>
        <div class="ws-rotating-background-image ws-rotating-background-image-3 ws-L">{% imagesync "L_03_background.png", "" %}</div>

        <div class="ws-rotating-background-image ws-rotating-background-image-1 ws-M">{% imagesync "M_01_background.png", "" %}</div>
        <div class="ws-rotating-background-image ws-rotating-background-image-2 ws-M">{% imagesync "M_02_background.png", "" %}</div>
        <div class="ws-rotating-background-image ws-rotating-background-image-3 ws-M">{% imagesync "M_03_background.png", "" %}</div>

        <div class="ws-rotating-background-image ws-rotating-background-image-1 ws-S">{% imagesync "S_01_background.png", "" %}</div>
        <div class="ws-rotating-background-image ws-rotating-background-image-2 ws-S">{% imagesync "S_02_background.png", "" %}</div>
        <div class="ws-rotating-background-image ws-rotating-background-image-3 ws-S">{% imagesync "S_03_background.png", "" %}</div>

        <div class="ws-rotating-background-image ws-rotating-background-image-fpo ws-XS">{% imagesync "XS_01_background.png", "" %}</div>
        <div class="ws-rotating-background-image ws-rotating-background-image-1 ws-XS">{% imagesync "XS_01_background.png", "" %}</div>
        <div class="ws-rotating-background-image ws-rotating-background-image-2 ws-XS">{% imagesync "XS_02_background.png", "" %}</div>
        <div class="ws-rotating-background-image ws-rotating-background-image-3 ws-XS">{% imagesync "XS_03_background.png", "" %}</div>
      </div>
    <div class="ws-initial-content">
        <div class="ws-initial-text">{{ common.initialViewText }}</div>
        <button class="ws-initial-cta">{{ common.initialViewCtaText }}</button>
    </div>
  </div>
{% endmacro %}

{% macro roomSelections(workspace, room) %}
  <div class="ws-room-selections awaits-styling" id="{{ workspace.slug }}-{{ room.slug }}">
    <div class="ws-room-selection">
      <a href="#{{ workspace.slug }}-{{ room.slug }}">
        <div class="ws-room-image">To be replaced with an image</div>
        <div class="ws-room-label">{{ room.name }}</div>
      </a>
    </div>
  </div>
{% endmacro %}

{% macro roomView(common, workspaces, devicesByRoom, vendorDevicesByRoom, devices) %}
  <div class="ws-room-view">
    <div class="ws-room-background-image awaits-styling">To be replaced with the background image for the current room.  And hotspots.</div>

    <div class="ws-more-rooms-text awaits-styling">
      <button class="ws-show-more-rooms">{{ common.moreRoomsCtaText }}</button>
    </div>

    <div class="ws-workspaces-rooms awaits-styling">
      <span class="ws-select-room-text">{{ common.selectRoomText }}</span>

      {# This represents the room label and selection interface for each workspace. #}
      <div class="ws-workspaces awaits-styling">
        {%- for workspace in workspaces %}
          <div class="ws-workspace" id="{{ workspace.slug }}Container">
            {%- for room in workspace.rooms %}
              <div class="ws-room">
                <div class="ws-room-label">{{ room.name }}</div>

                {{ roomSelections(workspace, room) }}

                {{ deviceModal.render(common, workspace, room, devicesByRoom, devices) }}

                {{ infoModal.render(common, workspace, room, vendorDevicesByRoom, devices) }}
              </div>
            {%- endfor %}
          </div>
        {%- endfor %}
      </div>

    </div>
  </div>
{% endmacro %}
