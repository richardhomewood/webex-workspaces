{% import "./device-modal/device-modal.njk" as deviceModal %}

{% macro commonUi(common, workspaces) %}
  <div class="ws-common-ui">
    <a href="#">{% icon "site-logo" %}</a>

    <div class="ws-workspace-nav">
      <ul>
        {%- for workspace in workspaces %}
          <li><a href="#{{ workspace.route }}">{{ workspace.name }}</a></li>
        {%- endfor %}
      </ul>
    </div>

    <button class="ws-about-cta"><span class="ws-XS">i</span><span class="ws-S ws-M ws-L ws-XL">{{ common.aboutWorkspaceCtaText }}</span></button>
  </div>
{% endmacro %}

{% macro initialView(common) %}
  <div class="ws-initial-view">
     <div class="ws-initial-rotating-background-image">
     {{initialViewBGFPO("01_background.png", common.sizeClasses)}}
     {{initialViewBG("01_background.png", common.sizeClasses, 1)}}
     {{initialViewBG("02_background.png", common.sizeClasses, 2)}}
     {{initialViewBG("03_background.png", common.sizeClasses, 3)}}
    </div>
    <div class="ws-initial-content">
        <div class="ws-initial-text">{{ common.initialViewText }}</div>
        <a class="ws-initial-cta" href="#homeSpace-homeOffice">{{ common.initialViewCtaText }}</a>
    </div>
  </div>
{% endmacro %}

{% macro initialViewBGFPO(src, sizeClasses) %}
    {% for size, prefix in sizeClasses %}
        <div class="ws-rotating-background-image ws-rotating-background-image-fpo {{ size }}">{% imagesync prefix+src, "" %}</div>
    {% endfor %}
{% endmacro %}

{% macro initialViewBG(src, sizeClasses, index) %}
    {% for size, prefix in sizeClasses %}
         <div class="ws-rotating-background-image ws-rotating-background-image-{{ index }} {{ size }}">{% imagesync prefix+src, "" %}</div>
    {% endfor %}
{% endmacro %}

{% macro roomSelections(workspace, room) %}
  <div class="ws-room-selections awaits-styling" id="{{ workspace.slug }}-{{ room.slug }}">
    <div class="ws-room-selection">
      <a href="#{{ workspace.slug }}-{{ room.slug }}">
        <div class="ws-room-image">To be replaced with an image</div>
        <div class="ws-room-label">{{ room.name }}</div>
      </a>
    </div>
  </div>
{% endmacro %}

{% macro roomView(common, workspaces, devicesByRoom, devices) %}
  <div class="ws-room-view ws-displayNone">
    <div class="ws-room-background-image-container">
       {{roomViewBG("02_background.png", common.sizeClasses)}}
    </div>
    <div class="ws-room-content">  
        <div class="ws-more-rooms-text awaits-styling">
        <button class="ws-show-more-rooms">{{ common.moreRoomsCtaText }}</button>
        </div>

        <div class="ws-workspaces-rooms awaits-styling">
            <span class="ws-select-room-text">{{ common.selectRoomText }}</span>

            {# This represents the room label and selection interface for each workspace. #}
            <div class="ws-workspaces awaits-styling">
                {%- for workspace in workspaces %}
                <div class="ws-workspace ws-displayNone" id="{{ workspace.slug }}Container">
                    {%- for room in workspace.rooms %}
                    <div class="ws-room">
                        <div class="ws-room-label">{{ room.name }}</div>

                        {{ roomSelections(workspace, room) }}

                        <!--{{ deviceModal.render(common, workspace, room, devicesByRoom, devices) }}-->
                    </div>
                    {%- endfor %}
                </div>
                {%- endfor %}
            </div>

        </div>
    </div>
  </div>
{% endmacro %}

{% macro roomViewBG(src, sizeClasses) %}
    {% for size, prefix in sizeClasses %}
        <div class="ws-room-background-image {{ size }}">{% imagesync prefix+src, "" %}</div>
    {% endfor %}
{% endmacro %}
